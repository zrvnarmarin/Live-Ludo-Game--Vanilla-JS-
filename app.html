<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ludo Game</title>
    <link rel="stylesheet" href="board.css">
    <script src="https://kit.fontawesome.com/2fd1fc0d1b.js" crossorigin="anonymous"></script>
    <script src="app.js" defer></script>
</head>
<body>

    <div class="board">
        <!-- First row -->
        <div class="first-row">
            <div class="start-area-wrapper blue-player-start-area-wrapper">
                <div class="start-area">
                    <div class="start-area-player-ring blue-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring blue-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring blue-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring blue-player-start-area-player-ring"></div>
                </div>
            </div>
            <div class="board-squares">
                <div class="board-square"></div>
                <div class="board-square board-square-arrow-holder">
                    <i class="fa-sharp fa-solid fa-arrow-down yellow-arrow"></i>
                </div>
                <div class="board-square"></div>
                <div class="board-square"></div>
                <div class="board-square yellow-home-board-square"></div>
                <div class="board-square yellow-starting-board-square"></div>
                <div class="board-square"></div>
                <div class="board-square yellow-home-board-square"></div>
                <div class="board-square"></div>
                <div class="board-square"></div>
                <div class="board-square yellow-home-board-square"></div>
                <div class="board-square"></div>
                <div class="board-square"></div>
                <div class="board-square yellow-home-board-square"></div>
                <div class="board-square"></div>
                <div class="board-square"></div>
                <div class="board-square yellow-home-board-square"></div>
                <div class="board-square"></div>
            </div>
            <div class="start-area-wrapper yellow-player-start-area-wrapper">
                <div class="start-area">
                    <div class="start-area-player-ring yellow-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring yellow-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring yellow-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring yellow-player-start-area-player-ring"></div>
                </div>
            </div>
        </div>
        
        <!-- Second row -->
        <div class="second-row">
        <div class="board-squares-rotated">
            <div class="board-square"></div>
            <div class="board-square blue-starting-board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square board-square-arrow-holder">
                <i class="fa-sharp fa-solid fa-arrow-right blue-arrow"></i>
            </div>
            <div class="board-square blue-home-board-square"></div>
            <div class="board-square blue-home-board-square"></div>
            <div class="board-square blue-home-board-square"></div>
            <div class="board-square blue-home-board-square"></div>
            <div class="board-square blue-home-board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
        </div>
        <div class="triangles-center"></div>
        <div class="board-squares-rotated">
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square green-home-board-square"></div>
            <div class="board-square green-home-board-square"></div>
            <div class="board-square green-home-board-square"></div>
            <div class="board-square green-home-board-square"></div>
            <div class="board-square green-home-board-square"></div>
            <div class="board-square board-square-arrow-holder">
                <i class="fa-sharp fa-solid fa-arrow-left green-arrow"></i>
            </div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square"></div>
            <div class="board-square green-starting-board-square"></div>
            <div class="board-square"></div>
        </div>
        </div>

        <!-- Third row -->
        <div class="third-row">
            <div class="start-area-wrapper red-player-start-area-wrapper">
                <div class="start-area">
                    <div class="start-area-player-ring red-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring red-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring red-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring red-player-start-area-player-ring"></div>
                </div>
            </div>
            <div class="board-squares">
                <div class="board-square"></div>
                <div class="board-square red-home-board-square"></div>
                <div class="board-square"></div>
                <div class="board-square"></div>
                <div class="board-square red-home-board-square"></div>
                <div class="board-square"></div>
                <div class="board-square"></div>
                <div class="board-square red-home-board-square"></div>
                <div class="board-square"></div>
                <div class="board-square"></div>
                <div class="board-square red-home-board-square"></div>
                <div class="board-square"></div>
                <div class="board-square red-starting-board-square"></div>
                <div class="board-square red-home-board-square"></div>
                <div class="board-square"></div>
                <div class="board-square"></div>
                <div class="board-square board-square-arrow-holder">
                    <i class="fa-sharp fa-solid fa-arrow-up red-arrow"></i>
                </div>
                <div class="board-square"></div>
            </div>
            <div class="start-area-wrapper green-player-start-area-wrapper">
                <div class="start-area">
                    <div class="start-area-player-ring green-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring green-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring green-player-start-area-player-ring"></div>
                    <div class="start-area-player-ring green-player-start-area-player-ring"></div>
                </div>
            </div>
        </div>

    </div>

    <script type="module" defer> 
        import {getElementOriginPoint, getElementPositionRelativeToTheViewport} from './utillityFunctions.js'
        
        // Player paths
        const boardSquares = [...document.getElementsByClassName('board-square')]
        const wayPoints = []
        const wayPointIndexes = []

        // Player homeboards
        const startAreaPlayerRings = document.getElementsByClassName('start-area-player-ring')
        const startAreaPlayerRingsCenters = []

        // Creating path waypoints
        boardSquares.forEach((boardSquare, index) => {

            wayPointIndexes.push(index)
            // Create a waypoint
            const waypoint = {
                boardSquare: boardSquare,
                wayPointIndex: wayPointIndexes[index],
                classList: boardSquare.className.split(' '),
                isHomeBoardSquare: boardSquare.className.includes('home-board-square'),
                isPlayerStartingPoint: boardSquare.className.includes('starting-board-square'),
                x: getElementPositionRelativeToTheViewport(boardSquares[index]).left + getElementOriginPoint(boardSquares[index]).x / 2,
                y: getElementPositionRelativeToTheViewport(boardSquares[index]).top + getElementOriginPoint(boardSquares[index]).y / 2
                // isOccupiedByPlayers: null,
            }
            
            wayPoints.push(waypoint)

            // console.log(waypoint.wayPointIndex)
        })

        // Displaying waypoint indexes on each board square
        wayPoints.forEach(waypoint => {
            const {boardSquare, wayPointIndex} = waypoint
            const index = document.createElement('p')
            index.innerText = wayPointIndex
            
            boardSquare.append(index)
        })

        // Determining all type of player`s path 
        const yellowPlayerPath = [
            wayPoints[5], wayPoints[8], wayPoints[11], wayPoints[14], wayPoints[17],
            wayPoints[36], wayPoints[37], wayPoints[38], wayPoints[39], wayPoints[40],
            wayPoints[41], wayPoints[47], wayPoints[53], wayPoints[51], wayPoints[50],
            wayPoints[49], wayPoints[48], wayPoints[56], wayPoints[59], wayPoints[62],
            wayPoints[65], wayPoints[68], wayPoints[71], wayPoints[70], wayPoints[69],
            wayPoints[63], wayPoints[60], wayPoints[57], wayPoints[54],
            wayPoints[35], wayPoints[34], wayPoints[33], wayPoints[32], wayPoints[31],
            wayPoints[30], wayPoints[24], wayPoints[18], wayPoints[20], wayPoints[21],
            wayPoints[22], wayPoints[23], wayPoints[15], wayPoints[12], wayPoints[9],
            wayPoints[6], wayPoints[3], wayPoints[0], wayPoints[1], wayPoints[4],
            wayPoints[7], wayPoints[10], wayPoints[13], wayPoints[16]
        ]

        const greenPlayerPath = [
            wayPoints[52], wayPoints[51], wayPoints[50], wayPoints[49], wayPoints[48],
            wayPoints[56], wayPoints[59], wayPoints[62], wayPoints[65], wayPoints[68],
            wayPoints[71], wayPoints[70], wayPoints[69], wayPoints[63], wayPoints[60],
            wayPoints[57], wayPoints[54], wayPoints[35], wayPoints[34], wayPoints[33],
            wayPoints[32], wayPoints[31], wayPoints[30], wayPoints[24], wayPoints[18],
            wayPoints[20], wayPoints[21], wayPoints[22], wayPoints[23],
            wayPoints[15], wayPoints[12], wayPoints[9], wayPoints[6], wayPoints[3],
            wayPoints[0], wayPoints[1], wayPoints[2], wayPoints[8], wayPoints[11],
            wayPoints[14], wayPoints[17], wayPoints[36], wayPoints[37], wayPoints[38],
            wayPoints[39], wayPoints[40], wayPoints[41], wayPoints[47], wayPoints[46],
            wayPoints[45], wayPoints[44], wayPoints[43], wayPoints[42]
        ]

        const redPlayerPath = [
            wayPoints[66], wayPoints[63], wayPoints[60], wayPoints[57], wayPoints[54],
            wayPoints[35], wayPoints[34], wayPoints[33], wayPoints[32], wayPoints[31],
            wayPoints[30], wayPoints[24], wayPoints[18], wayPoints[20], wayPoints[21],
            wayPoints[22], wayPoints[23], wayPoints[15], wayPoints[12], wayPoints[9],
            wayPoints[6], wayPoints[3], wayPoints[0], wayPoints[1], wayPoints[2],
            wayPoints[8], wayPoints[11], wayPoints[14], wayPoints[17],
            wayPoints[36], wayPoints[37], wayPoints[38], wayPoints[39], wayPoints[40],
            wayPoints[41], wayPoints[47], wayPoints[53], wayPoints[51], wayPoints[50],
            wayPoints[49], wayPoints[48], wayPoints[56], wayPoints[59], wayPoints[62],
            wayPoints[65], wayPoints[68], wayPoints[71], wayPoints[70], wayPoints[67],
            wayPoints[64], wayPoints[61], wayPoints[58], wayPoints[55]
        ]

        const bluePlayerPath = [
            wayPoints[19], wayPoints[20], wayPoints[21], wayPoints[22], wayPoints[23],
            wayPoints[15], wayPoints[12], wayPoints[9], wayPoints[6], wayPoints[3],
            wayPoints[0], wayPoints[1], wayPoints[2], wayPoints[8],
            wayPoints[11], wayPoints[14], wayPoints[17], wayPoints[36], wayPoints[37],
            wayPoints[38], wayPoints[39], wayPoints[40], wayPoints[41], wayPoints[47],
            wayPoints[53], wayPoints[51], wayPoints[50], wayPoints[49],
            wayPoints[48], wayPoints[56], wayPoints[59], wayPoints[62], wayPoints[65],
            wayPoints[68], wayPoints[71], wayPoints[70], wayPoints[69], wayPoints[63],
            wayPoints[60], wayPoints[57], wayPoints[54], wayPoints[35], wayPoints[34],
            wayPoints[33], wayPoints[32], wayPoints[31], wayPoints[30], wayPoints[24],
            wayPoints[25], wayPoints[26], wayPoints[27], wayPoints[28], wayPoints[29]
        ]

        // Movement
        let index = -1

        const testPlayer = document.createElement('div')
        testPlayer.classList.add('test-player-div')

        setInterval(() => {
            index++
            const { boardSquare, x, y } = bluePlayerPath[index]
            testPlayer.style.top = y + 'px'
            testPlayer.style.left = x + 'px'
            boardSquare.append(testPlayer)

        }, 1500)

        // Start area stuff
        startAreaPlayerRings.forEach(playerRing => {
            
        })

    </script>
    
    
    <style>
        .test-player-div {
            width: 23.5px;
            height: 23.5px;
            background-color: blue;
            border: 1px solid black;
            border-radius: 50%;
            left: 50px;
            top: 50px;
            transition: left .5s ease-in, top .5s ease-in;
            position: absolute;
        }
    </style>

</body>
</html>